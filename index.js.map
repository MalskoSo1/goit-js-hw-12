{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport axios from 'axios';\n\nconst pixabayApiKey = '53339801-8b3ce8e2b4688b576eb7bcf24';\nconst pixabayUrl = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  const pixabayParams = {\n    key: pixabayApiKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  return doGetRequest(pixabayUrl, pixabayParams);\n}\n\nfunction doGetRequest(url, params) {\n  return axios\n    .get(url, { params })\n    .then(function (response) {\n      if (response.data.total === 0) {\n        iziToast.show({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          backgroundColor: '#ef4040',\n          messageColor: '#fafafb',\n          position: 'topRight',\n          progressBarColor: '#b51b1b',\n        });\n      }\n      return response.data;\n    })\n    .catch(function (error) {\n      throw error;\n    });\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  widthRatio: 0.77,\n  heightRatio: 0.92,\n});\n\nconst refs = {\n  gallery: document.querySelector('#gallery'),\n};\n\nexport function createGallery(images) {\n  const galleryCardsTemplate = images\n    .map(imgInfo => createGalleryCardTemplate(imgInfo))\n    .join('');\n\n  refs.gallery.innerHTML = galleryCardsTemplate;\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\nfunction createGalleryCardTemplate(imgInfo) {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-card\" href=\"${imgInfo.largeImageURL}\">\n    <img class=\"gallery-img\" width=\"360\" height=\"200\" src=\"${\n      imgInfo.webformatURL\n    }\" alt=\"${imgInfo.tags.split(',')[0]}\"/>\n  </a>\n    <ul class=\"img-descriptions-list\">\n      <li class=\"img-descriptions-item\">\n        <p class=\"img-descriptions-text\">Likes</p>\n        <p class=\"img-descriptions-data\">${imgInfo.likes}</p>\n      </li>\n      <li class=\"img-descriptions-item\">\n        <p class=\"img-descriptions-text\">Views</p>\n        <p class=\"img-descriptions-data\">${imgInfo.views}</p>\n      </li>\n      <li class=\"img-descriptions-item\">\n        <p class=\"img-descriptions-text\">Comments</p>\n        <p class=\"img-descriptions-data\">${imgInfo.comments}</p>\n      </li>\n      <li class=\"img-descriptions-item\">\n        <p class=\"img-descriptions-text\">Downloads</p>\n        <p class=\"img-descriptions-data\">${imgInfo.downloads}</p>\n      </li>\n    </ul>\n  </li>`;\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions';\nimport { clearGallery } from './js/render-functions';\nimport { showLoader } from './js/render-functions';\nimport { hideLoader } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\n// Function when press button\nrefs.form.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const input = refs.form.querySelector('input[name=\"search-text\"]');\n  const query = input.value.trim();\n\n  // Check if input empty\n  if (query === '') {\n    input.value = '';\n    return;\n  }\n\n  clearGallery();\n\n  showLoader();\n\n  // Taking and rendering data from site\n  getImagesByQuery(query)\n    .then(data => {\n      createGallery(data.hits);\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => hideLoader());\n});\n"],"names":["pixabayApiKey","pixabayUrl","getImagesByQuery","query","doGetRequest","url","params","axios","response","iziToast","error","lightbox","SimpleLightbox","refs","createGallery","images","galleryCardsTemplate","imgInfo","createGalleryCardTemplate","clearGallery","showLoader","loader","hideLoader","event","input","data"],"mappings":"owBAOA,MAAMA,EAAgB,qCAChBC,EAAa,2BAEZ,SAASC,EAAiBC,EAAO,CAQtC,OAAOC,EAAaH,EAPE,CACpB,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAC+C,CAC/C,CAEA,SAASC,EAAaC,EAAKC,EAAQ,CACjC,OAAOC,EACJ,IAAIF,EAAK,CAAE,OAAAC,EAAQ,EACnB,KAAK,SAAUE,EAAU,CACxB,OAAIA,EAAS,KAAK,QAAU,GAC1BC,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,iBAAkB,SAC5B,CAAS,EAEID,EAAS,IACtB,CAAK,EACA,MAAM,SAAUE,EAAO,CACtB,MAAMA,CACZ,CAAK,CACL,CClCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACd,WAAY,IACZ,YAAa,GACf,CAAC,EAEKC,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAuBD,EAC1B,IAAIE,GAAWC,EAA0BD,CAAO,CAAC,EACjD,KAAK,EAAE,EAEVJ,EAAK,QAAQ,UAAYG,EAEzBL,EAAS,QAAO,CAClB,CAEO,SAASQ,GAAe,CAC7BN,EAAK,QAAQ,UAAY,EAC3B,CAEO,SAASO,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACzB,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEA,SAASH,EAA0BD,EAAS,CAC1C,MAAO;AAAA,oCAC2BA,EAAQ,aAAa;AAAA,6DAEnDA,EAAQ,YACd,UAAcA,EAAQ,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKGA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,2CAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,QAI5D,CC9DA,MAAMJ,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,CACtC,EAGAA,EAAK,KAAK,iBAAiB,SAAU,MAAMU,GAAS,CAClDA,EAAM,eAAc,EAEpB,MAAMC,EAAQX,EAAK,KAAK,cAAc,2BAA2B,EAC3DV,EAAQqB,EAAM,MAAM,KAAI,EAG9B,GAAIrB,IAAU,GAAI,CAChBqB,EAAM,MAAQ,GACd,MACD,CAEDL,IAEAC,IAGAlB,EAAiBC,CAAK,EACnB,KAAKsB,GAAQ,CACZX,EAAcW,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMf,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAMY,EAAU,CAAE,CAC/B,CAAC"}